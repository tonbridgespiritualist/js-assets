!function(){"use strict";window.GOVUK=window.GOVUK||{};var t={essential:!0,settings:!1,usage:!1,campaigns:!1},e={cookies_policy:"essential",seen_cookie_message:"essential",cookie_preferences_set:"essential",cookies_preferences_set:"essential","_email-alert-frontend_session":"essential",intervention_campaign:"essential",licensing_session:"essential",govuk_contact_referrer:"essential",multivariatetest_cohort_coronavirus_extremely_vulnerable_rate_limit:"essential",dgu_beta_banner_dismissed:"settings",global_banner_seen:"settings",user_nation:"settings","JS-Detection":"usage",TLSversion:"usage",_ga_VBLT2V3FZR:"usage",_ga_P1DGM6TVYF:"usage",_ga_S5RQ7FTGVR:"usage"};window.GOVUK.cookie=function(t,e,i){return void 0!==e?!1===e||null===e?window.GOVUK.setCookie(t,"",{days:-1}):(void 0===i&&(i={days:30}),window.GOVUK.setCookie(t,e,i)):window.GOVUK.getCookie(t)},window.GOVUK.setDefaultConsentCookie=function(){window.GOVUK.setConsentCookie(t)},window.GOVUK.approveAllCookieTypes=function(){var t={essential:!0,settings:!0,usage:!0,campaigns:!0};window.GOVUK.setCookie("cookies_policy",JSON.stringify(t),{days:365})},window.GOVUK.getConsentCookie=function(){var t,e=window.GOVUK.cookie("cookies_policy");if(!e)return null;try{t=JSON.parse(e)}catch(t){return null}return"object"!=typeof t&&null!==t&&(t=JSON.parse(t)),t},window.GOVUK.setConsentCookie=function(i){var o=window.GOVUK.getConsentCookie();for(var n in o||(o=JSON.parse(JSON.stringify(t))),i)if(o[n]=i[n],!i[n])for(var s in e)e[s]===n&&window.GOVUK.deleteCookie(s);window.GOVUK.setCookie("cookies_policy",JSON.stringify(o),{days:365})},window.GOVUK.checkConsentCookieCategory=function(t,i){var o=window.GOVUK.getConsentCookie();if(!o&&e[t])return!0;o=window.GOVUK.getConsentCookie();try{return o[i]}catch(t){return console.error(t),!1}},window.GOVUK.checkConsentCookie=function(t,i){if("cookies_policy"===t||null===i||!1===i)return!0;if(t.match("^govuk_surveySeen")||t.match("^govuk_taken"))return window.GOVUK.checkConsentCookieCategory(t,"settings");if(e[t]){var o=e[t];return window.GOVUK.checkConsentCookieCategory(t,o)}return!1},window.GOVUK.setCookie=function(t,e,i){if(window.GOVUK.checkConsentCookie(t,e)){void 0===i&&(i={});var o=t+"="+e+"; path=/";if(i.days){var n=new Date;n.setTime(n.getTime()+24*i.days*60*60*1e3),o=o+"; expires="+n.toGMTString()}"https:"===document.location.protocol&&(o+="; Secure"),document.cookie=o}},window.GOVUK.getCookie=function(t){for(var e=t+"=",i=document.cookie.split(";"),o=0,n=i.length;o<n;o++){for(var s=i[o];" "===s.charAt(0);)s=s.substring(1,s.length);if(0===s.indexOf(e))return decodeURIComponent(s.substring(e.length))}return null},window.GOVUK.getCookieCategory=function(t){return e[t]},window.GOVUK.deleteCookie=function(t){window.GOVUK.cookie(t,null),window.GOVUK.expireCookie(t)},window.GOVUK.expireCookie=function(t,e=""){var i=new Date(0);document.cookie=t+"="+e+";expires="+i+";",document.cookie=t+"="+e+";expires="+i+";domain="+window.location.hostname+";path=/"},window.GOVUK.deleteUnconsentedCookies=function(){var t=window.GOVUK.getConsentCookie();for(var i in t)if(!t[i])for(var o in e)e[o]===i&&window.GOVUK.deleteCookie(o)}}(window),window.GOVUK=window.GOVUK||{},window.GOVUK.Modules=window.GOVUK.Modules||{},function(t){function e(t){this.$module=t}e.prototype.init=function(){this.$module.submitSettingsForm=this.submitSettingsForm.bind(this),document.querySelector("form[data-module=cookie-settings]").addEventListener("submit",this.$module.submitSettingsForm),window.GOVUK.useSingleConsentApi?window.GOVUK.singleConsent.init(this.setInitialFormValues.bind(this)):this.setInitialFormValues()},e.prototype.setInitialFormValues=function(){window.GOVUK.cookie("cookies_policy")||window.GOVUK.useSingleConsentApi||window.GOVUK.setDefaultConsentCookie();var t=window.GOVUK.cookie("cookies_policy");if(t){var e=JSON.parse(t);if(e)for(var i in delete e.essential,e){var o;(o=e[i]?document.querySelector("input[name=cookies-"+i+"][value=on]"):document.querySelector("input[name=cookies-"+i+"][value=off]"))&&(o.checked=!0)}}},e.prototype.submitSettingsForm=function(t){t.preventDefault();for(var e=t.target.getElementsByTagName("input"),i={},o=0;o<e.length;o++){var n=e[o];if(n.checked){var s=n.name.replace("cookies-",""),r="on"===n.value;i[s]=r,"usage"!==s||r||(window.GOVUK.stopSendingAnalytics=!0,window.GOVUK.LUX={})}}return window.GOVUK.useSingleConsentApi?window.GOVUK.singleConsent.setPreferences(null,i):(window.GOVUK.setConsentCookie(i),window.GOVUK.setCookie("cookies_preferences_set",!0,{days:365})),this.showConfirmationMessage(),!1},e.prototype.showConfirmationMessage=function(){var t=document.querySelector("div[data-cookie-confirmation]");t.style.display="none";var i=document.querySelector(".cookie-settings__prev-page"),o=e.prototype.getReferrerLink();document.body.scrollTop=document.documentElement.scrollTop=0,i&&(o&&o!==document.location.pathname?(i.href=o,i.style.display="inline"):i.style.display="none"),t.style.display="block"},e.prototype.getReferrerLink=function(){var t=!1;try{t=document.referrer||new URL(document.referrer).pathname}catch(t){console.warn("Error grabbing referrer for cookie settings",window.location,t)}return t},t.CookieSettings=e}(window.GOVUK.Modules),function(){"use strict";window.GOVUK=window.GOVUK||{},window.GOVUK.extendObject=function(t){t=t||{};for(var e=1;e<arguments.length;e++)if(arguments[e])for(var i in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],i)&&(t[i]=arguments[e][i]);return t}}(window),window.GOVUK=window.GOVUK||{},window.GOVUK.Modules=window.GOVUK.Modules||{},function(t){function e(t,e){for(var i in this.$table=t,this.options={outOf:65,applyOnInit:!0,autoOutdent:!1,outdentAll:!1,chartVisibleText:"Change to table and accessible view",tableVisibleText:"Change to chart view",chartAlertText:"Chart visible",tableAlertText:"Table visible",toggleAfter:!1,returnReference:!1},e)this.options[i]=e[i]}e.prototype.init=function(){(this.detectIEVersion(),this.ENABLED=!(this.ie&&this.ie<8),this.$graphContainer=document.createElement("div"),this.$graphContainer.className="mc-chart-container",this.$graph=document.createElement("div"),this.$graph.setAttribute("aria-hidden","true"),this.$graph.setAttribute("class",this.$table.className),this.$graph.classList.add("mc-chart"),this.chartId=this.getChartId(),this.options.stacked=this.$table.classList.contains("mc-stacked"),this.options.stacked)&&(0===this.$table.querySelectorAll("thead th").length&&(this.ENABLED=!1));this.options.negative=this.$table.classList.contains("mc-negative");var t=this.$table.querySelectorAll("tbody tr")[0].querySelectorAll("th, td").length>2;if(this.options.multiple=!this.options.stacked&&(this.$table.classList.contains("mc-multiple")||t),this.options.autoOutdent=this.options.autoOutdent||this.$table.classList.contains("mc-auto-outdent"),this.options.outdentAll=this.options.outdentAll||this.$table.classList.contains("mc-outdented"),this.options.multiple&&this.$graph.classList.add("mc-multiple"),this.options.hasCaption=!!this.$table.querySelectorAll("caption").length,this.ENABLED&&(this.apply(),this.options.applyOnInit||this.toggleLink.click()),this.options.returnReference)return this},e.prototype.detectIEVersion=function(){this.ie=function(){var t,e=3,i=document.createElement("div"),o=i.getElementsByTagName("i");do{i.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->"}while(e<10&&o[0]);return e>4?e:t}()},e.prototype.apply=function(){if(this.ENABLED)try{this.constructChart(),this.addClassesToHeader(),this.applyWidths(),this.insert(),this.$table.classList.add("mc-hidden"),this.applyOutdent()}catch(t){console.error("MagnaCharta error:",t)}},e.prototype.construct={},e.prototype.construct.thead=function(){var t=document.createElement("div");t.classList.add("mc-thead");var e=document.createElement("div");e.classList.add("mc-tr");for(var i="",o=this.$table.querySelectorAll("thead th"),n=0;n<o.length;n++)i+='<div class="mc-th">',i+=o[n].innerHTML,i+="</div>";return e.innerHTML=i,t.appendChild(e),t},e.prototype.construct.tbody=function(){var t=document.createElement("div");t.classList.add("mc-tbody");for(var e=this.$table.querySelectorAll("tbody tr"),i=0;i<e.length;i++){var o=document.createElement("div");o.classList.add("mc-tr");for(var n="",s=e[i].querySelectorAll("th, td"),r=0;r<s.length;r++)n+='<div class="mc-td">',n+=s[r].innerHTML,n+="</div>";o.innerHTML=n,t.appendChild(o)}return t},e.prototype.construct.caption=function(){return this.$table.querySelector("caption").cloneNode(!0)},e.prototype.construct.toggleLink=function(t){var e=document.createElement("button"),i=document.createElement("span"),o=document.createElement("span");return i.classList.add("mc-toggle-text"),i.innerHTML=t,o.classList.add("govuk-visually-hidden","mc-toggle-status"),o.setAttribute("role","alert"),e.classList.add("govuk-body-s","mc-toggle-button"),e.appendChild(i),e.appendChild(o),e},e.prototype.addToggleClick=function(t,e,i,o){var n=this;this.toggleLink.addEventListener("click",(function(s){s.preventDefault();var r=n.toggleLink.querySelector(".mc-toggle-text"),a=n.toggleLink.querySelector(".mc-toggle-status");n.$graphContainer.classList.toggle("mc-hidden"),n.$table.classList.toggle("mc-hidden"),r.innerHTML=r.innerHTML===e?t:e,a.innerHTML=a.innerHTML===o?i:o}))},e.prototype.constructChart=function(){var t=this.construct.thead.call(this),e=this.construct.tbody.call(this);if(this.toggleLink=this.construct.toggleLink(this.options.chartVisibleText),this.addToggleClick(this.options.chartVisibleText,this.options.tableVisibleText,this.options.chartAlertText,this.options.tableAlertText),this.options.hasCaption){var i=this.construct.caption.call(this);this.$graph.appendChild(i)}this.options.toggleAfter?this.$table.insertAdjacentElement("afterend",this.toggleLink):this.$table.insertAdjacentElement("beforebegin",this.toggleLink),this.$graph.appendChild(t),this.$graph.appendChild(e)},e.prototype.utils={isFloat:function(t){return!isNaN(parseFloat(t))},stripValue:function(t){return t.replace(/,|\xa3|%|[a-z]/gi,"")},returnMax:function(t){for(var e=0,i=0;i<t.length;i++)t[i]>e&&(e=t[i]);return e},isNegative:function(t){return t<0}},e.prototype.addClassesToHeader=function(){var t=this.$graph.querySelectorAll(".mc-th"),e=t.length;this.options.stacked&&(t[e-1].classList.add("mc-stacked-header","mc-header-total"),e-=1);for(var i=1;i<e;i++)t[i].classList.add("mc-key-header"),t[i].classList.contains("mc-stacked-header")||t[i].classList.add("mc-key-"+i)},e.prototype.calculateMaxWidth=function(){for(var t=[],e=0,i=this.$graph.querySelectorAll(".mc-tr"),o=0;o<i.length;o++){for(var n=i[o],s=n.querySelectorAll(".mc-td"),r=[],a=1;a<s.length;a++)r.push(s[a]);var l=r.length;if(l){this.options.stacked&&(r[l-1].classList.add("mc-stacked-total"),l-=1);var d=n.querySelector(".mc-td");d&&d.classList.add("mc-key-cell");for(var c=0,u=0;u<l;u++){var h=r[u];h.classList.add("mc-bar-cell"),h.classList.add("mc-bar-"+(u+1));var p=this.utils.stripValue(h.innerText);if(this.utils.isFloat(p)){var m=parseFloat(p,10),g=Math.abs(m);0===m&&h.classList.add("mc-bar-zero"),this.options.negative&&(this.utils.isNegative(m)?(h.classList.add("mc-bar-negative"),g>e&&(e=g)):h.classList.add("mc-bar-positive")),m=g,this.options.stacked?c+=m:(c=m,t.push(m))}}}this.options.stacked&&t.push(c)}var w={};return w.max=parseFloat(this.utils.returnMax(t),10),w.single=parseFloat(this.options.outOf/w.max,10),this.options.negative&&(w.marginLeft=parseFloat(e,10)*w.single,w.maxNegative=parseFloat(e,10)),w},e.prototype.applyWidths=function(){this.dimensions=this.calculateMaxWidth();for(var t=this.$graph.querySelectorAll(".mc-tr"),e=0;e<t.length;e++)for(var i=t[e].querySelectorAll(".mc-bar-cell"),o=0;o<i.length;o++){var n=i[o],s=parseFloat(this.utils.stripValue(n.innerText),10),r=s*this.dimensions.single,a=Math.abs(s),l=Math.abs(r);if(this.options.negative)if(n.classList.contains("mc-bar-positive"))n.style.marginLeft=this.dimensions.marginLeft+"%";else if(a<this.dimensions.maxNegative){var d=(this.dimensions.maxNegative-a)*this.dimensions.single;n.style.marginLeft=d+"%"}n.innerHTML="<span>"+n.innerHTML+"</span>",n.style.width=l+"%"}},e.prototype.insert=function(){var t=document.createElement("span"),e="mc-chart-not-accessible-"+this.chartId;t.innerHTML="This content is not accessible - switch to table",t.className="mc-hidden",t.id=e,this.$graphContainer.setAttribute("aria-labelledby",e),this.$graphContainer.appendChild(this.$graph),this.$graphContainer.appendChild(t),this.$table.insertAdjacentElement("afterend",this.$graphContainer)},e.prototype.applyOutdent=function(){for(var t=this.$graph.querySelectorAll(".mc-bar-cell"),e=0;e<t.length;e++){var i=t[e],o=parseFloat(this.utils.stripValue(i.innerText),10),n=i.querySelector("span"),s=i.querySelector("span").offsetWidth+10,r=i.offsetWidth;this.options.stacked?(s>r&&o>0||o<1)&&i.classList.add("mc-value-overflow"):(0===o&&i.classList.add("mc-bar-outdented"),this.options.autoOutdent&&s>=r||this.options.outdentAll?(i.classList.add("mc-bar-outdented"),n.style.marginLeft="100%",n.style.display="inline-block"):i.classList.add("mc-bar-indented"))}},e.prototype.getChartId=function(){for(var t=document.querySelectorAll("table.js-barchart-table"),e=null,i=0;i<t.length;i++)t[i]===this.$table&&(e=i);return e},t.MagnaCharta=e}(window.GOVUK.Modules),window.GOVUK=window.GOVUK||{},function(t){"use strict";var e=function(t){this.$element=t};e.prototype.init=function(){for(var e=this.$element.querySelectorAll(".js-barchart-table"),i=[],o=0;o<e.length;o++){var n=e[o].className;-1===n.indexOf("mc-chart")&&-1===n.indexOf("js-barchart-table-init")&&i.push(e[o])}for(var s=0;s<i.length;s++){var r=i[s];new t.Modules.MagnaCharta(r,{toggleText:"Change between chart and table"}).init(),r.className=r.className+" js-barchart-table-init"}},t.GovspeakBarchartEnhancement=e}(window.GOVUK),function(){"use strict";window.GOVUK=window.GOVUK||{};var t=window.GOVUK||{},e=function(t,e){this.$element=t,this.$classOverride=void 0!==e?e:"gem-c-govspeak__youtube-video",this.punctuationRegex=/[\.!\?"']/g};e.prototype.init=function(){if(!this.campaignCookiesAllowed())return this.start=this.startModule.bind(this),window.addEventListener("cookie-consent",this.start),void this.decorateLink();this.startModule()},e.prototype.paragraphHasOtherContent=function(t,e){return t.innerHTML.replaceAll(this.punctuationRegex,"")!==e.outerHTML.replaceAll(this.punctuationRegex,"")},e.prototype.decorateLink=function(){for(var t=this.$element.querySelectorAll('a[href*="youtube.com"], a[href*="youtu.be"]'),e=0;e<t.length;++e){var i=t[e];if(!this.hasDisabledEmbed(i)&&!i.getAttribute("href").includes("/playlist")){var o=i.closest("p");if(!this.paragraphHasOtherContent(o,i)){var n=i.getAttribute("href"),s=i.textContent,r=document.createElement("p");r.setAttribute("class","gem-c-govspeak__youtube-placeholder govuk-body");var a=`\n        <span class="govuk-heading-s">How to watch this YouTube video</span>\n        <span class="gem-c-govspeak__youtube-placeholder-text">There's a YouTube video on this page. You can't access it because of your cookie settings.</span>\n        <span class="gem-c-govspeak__youtube-placeholder-text">You can <a href="/help/cookies" class="govuk-link">change your cookie settings</a> or watch the video on YouTube instead:</span>\n        <a href="${n}" class="govuk-link">${s}</a>\n      `;r.innerHTML=a,o.after(r),o.classList.add("gem-c-govspeak__youtube-placeholder-link")}}}},e.prototype.startModule=function(){window.removeEventListener("cookie-consent",this.start);for(var t=this.$element.querySelectorAll(".gem-c-govspeak__youtube-placeholder"),i=0;i<t.length;++i)t[i].remove();var o=this.$element.querySelectorAll('a[href*="youtube.com"], a[href*="youtu.be"]');o.length>0&&e.insertApiScript();for(var n=0;n<o.length;++n){var s=o[n],r=s.getAttribute("href"),a={link:s};if(r.includes("/live_stream")){var l=e.parseLivestream(r);!this.hasDisabledEmbed(s)&&l&&(a.channel=l,this.setupVideo(a))}else{var d=e.parseVideoId(r);!this.hasDisabledEmbed(s)&&d&&(a.videoId=d,this.setupVideo(a))}}},e.prototype.hasDisabledEmbed=function(t){return"off"===t.getAttribute("data-youtube-player")},e.prototype.setupVideo=function(t){var i=e.nextId(),o=t.link,n=t.videoId?t.videoId:t.channel,s=o.parentNode,r=s.parentNode;if(!this.paragraphHasOtherContent(s,o)){var a=document.createElement("div");a.className+=this.$classOverride,a.innerHTML='<span id="'+i+'" data-video-id="'+n+'"></span>',t.title=o.textContent,r.replaceChild(a,s),this.insertVideo(i,t)}},e.prototype.insertVideo=function(t,i){var o="",n="";i.channel?(o=i.channel,n="live_stream"):n=i.videoId;var s=function(){new window.YT.Player(t,{videoId:n,host:"https://www.youtube-nocookie.com",playerVars:{enablejsapi:1,origin:window.location.origin,rel:0,disablekb:1,modestbranding:1,channel:o},events:{onReady:function(t){var e=i.title;t.target.getIframe().title=e+" (video)",window.GOVUK.analyticsGa4.analyticsModules&&window.GOVUK.analyticsGa4.analyticsModules.VideoTracker&&window.GOVUK.analyticsGa4.analyticsModules.VideoTracker.configureVideo(t)},onStateChange:function(t){var e=t.data,i={"-1":"VideoUnstarted",0:"VideoEnded",1:"VideoPlaying",2:"VideoPaused",3:"VideoBuffering",5:"VideoCued"};window.GOVUK.analyticsGa4.analyticsModules.VideoTracker&&window.GOVUK.analyticsGa4.analyticsModules.VideoTracker.trackVideo(t,i[e])}}})};s=s.bind(this),e.playerApiReady?s.call():e.queuedInserts.push(s)},e.prototype.campaignCookiesAllowed=function(){var t=window.GOVUK.getConsentCookie();return null!==t&&t.campaigns},e.nextId=function(){return this.embedCount=this.embedCount||0,this.embedCount+=1,"youtube-"+this.embedCount},e.insertApiScript=function(){if(!this.apiScriptInserted){var t=document.createElement("script");t.src="https://www.youtube.com/player_api";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e),this.apiScriptInserted=!0}},e.parseLivestream=function(t){var e=t.match(/channel=([^&]*)/);if(e)return e[1]},e.parseVideoId=function(t){var e;try{e=new URL(t)}catch(t){return}return"www.youtube.com"===e.host||"youtube.com"===e.host?e.searchParams.get("v")||void 0:"youtu.be"===e.host?e.pathname.slice(1):void 0},e.apiScriptInserted=!1,e.playerApiReady=!1,e.queuedInserts=[],window.onYouTubePlayerAPIReady=function(){e.playerApiReady=!0;for(var t=0;t<e.queuedInserts.length;t++)e.queuedInserts[t].call()},t.GovspeakYoutubeLinkEnhancement=e}(),window.GOVUK=window.GOVUK||{},window.GOVUK.Modules=window.GOVUK.Modules||{},function(t){function e(t){this.$module=t}e.prototype.init=function(){this.$module.focus()},t.InitialFocus=e}(window.GOVUK.Modules),window.GOVUK=window.GOVUK||{},window.GOVUK.Modules=window.GOVUK.Modules||{},function(t){function e(t){this.$module=t}e.prototype.init=function(){this.toggleTarget=this.$module.querySelector(".js-class-toggle"),this.$module.addFocusClass=this.addFocusClass.bind(this),this.$module.removeFocusClassFromEmptyInput=this.removeFocusClassFromEmptyInput.bind(this),this.inputIsEmpty()||this.addFocusClass(),this.toggleTarget.addEventListener("focus",this.$module.addFocusClass),this.toggleTarget.addEventListener("blur",this.$module.removeFocusClassFromEmptyInput)},e.prototype.inputIsEmpty=function(){return""===this.toggleTarget.value},e.prototype.addFocusClass=function(){this.toggleTarget.classList.add("focus")},e.prototype.removeFocusClassFromEmptyInput=function(){this.inputIsEmpty()&&this.toggleTarget.classList.remove("focus")},t.GemToggleInputClassOnFocus=e}(window.GOVUK.Modules),window.GOVUK=window.GOVUK||{},window.GOVUK.Modules=window.GOVUK.Modules||{},function(t){function e(t){this.$module=t}e.prototype.init=function(){this.$module.toggleTrigger=this.$module.querySelector("[data-controls][data-expanded]"),this.$module.toggleTrigger&&(this.$module.toggleClass=this.$module.getAttribute("data-toggle-class")||"js-hidden",this.addAriaAttrs(),this.toggleOnClick())},e.prototype.addAriaAttrs=function(){this.$module.toggleTrigger.setAttribute("role","button"),this.$module.toggleTrigger.setAttribute("aria-controls",this.$module.toggleTrigger.getAttribute("data-controls")),this.$module.toggleTrigger.setAttribute("aria-expanded",this.$module.toggleTrigger.getAttribute("data-expanded")),this.$module.targets=this.getTargetElements();for(var t=0;t<this.$module.targets.length;t++)this.$module.targets[t].setAttribute("aria-live","polite"),this.$module.targets[t].setAttribute("role","region")},e.prototype.getTargetElements=function(){var t="#"+this.$module.toggleTrigger.getAttribute("aria-controls").split(" ").join(", #");return this.$module.querySelectorAll(t)},e.prototype.toggleOnClick=function(){var t=this;this.$module.toggleTrigger.addEventListener("click",(function(e){if(e.preventDefault(),"true"===this.getAttribute("aria-expanded")){this.setAttribute("aria-expanded",!1);for(var i=0;i<t.$module.targets.length;i++)t.$module.targets[i].classList.add(t.$module.toggleClass)}else{this.setAttribute("aria-expanded",!0);for(var o=0;o<t.$module.targets.length;o++)t.$module.targets[o].classList.remove(t.$module.toggleClass)}var n=this.getAttribute("data-toggled-text");"string"==typeof n&&(this.setAttribute("data-toggled-text",this.innerHTML),this.innerHTML=n)}))},t.GemToggle=e}(window.GOVUK.Modules),function(){"use strict";window.GOVUK=window.GOVUK||{},window.GOVUK.triggerEvent=function(t,e,i){var o,n=i||{},s=n.keyCode;Object.prototype.hasOwnProperty.call(n,"bubbles")||(n.bubbles=!0),Object.prototype.hasOwnProperty.call(n,"cancelable")||(n.cancelable=!0),"function"==typeof window.CustomEvent?o=new window.CustomEvent(e,n):(o=document.createEvent("CustomEvent")).initCustomEvent(e,n.bubbles,n.cancelable,n.detail),s&&(o.keyCode=s),n.shiftKey&&(o.shiftKey=!0),t.dispatchEvent(o)}}(window),window.GOVUK=window.GOVUK||{},window.GOVUK.Modules=window.GOVUK.Modules||{},function(t){function e(t){this.wrapper=t,this.stickyElement=this.wrapper.querySelector("[data-sticky-element]"),this.hasResized=!0,this.hasScrolled=!0,this.interval=50,this.windowVerticalPosition=1,this.startPosition=0,this.stopPosition=0}e.prototype.init=function(){this.stickyElement&&(window.onresize=this.onResize.bind(this),window.onscroll=this.onScroll.bind(this),setInterval(this.checkResize.bind(this),this.interval),setInterval(this.checkScroll.bind(this),this.interval),this.checkResize(),this.checkScroll(),this.stickyElement.classList.add("gem-c-contents-list-with-body__sticky-element--enabled"))},e.prototype.getWindowDimensions=function(){return{height:window.innerHeight,width:window.innerWidth}},e.prototype.getWindowPositions=function(){return{scrollTop:window.scrollY}},e.prototype.onResize=function(){this.hasResized=!0},e.prototype.onScroll=function(){this.hasScrolled=!0},e.prototype.checkResize=function(){if(this.hasResized){this.hasResized=!1,this.hasScrolled=!0;var t=this.getWindowDimensions(),e=this.wrapper.offsetHeight||parseFloat(this.wrapper.style.height.replace("px",""));this.startPosition=this.wrapper.offsetTop,this.stopPosition=this.wrapper.offsetTop+e-t.height}},e.prototype.checkScroll=function(){this.hasScrolled&&(this.hasScrolled=!1,this.windowVerticalPosition=this.getWindowPositions().scrollTop,this.updateVisibility(),this.updatePosition())},e.prototype.updateVisibility=function(){this.startPosition<this.windowVerticalPosition?this.show():this.hide()},e.prototype.updatePosition=function(){this.stopPosition<this.windowVerticalPosition?this.stickToParent():this.stickToWindow()},e.prototype.stickToWindow=function(){this.stickyElement.classList.add("gem-c-contents-list-with-body__sticky-element--stuck-to-window")},e.prototype.stickToParent=function(){this.stickyElement.classList.remove("gem-c-contents-list-with-body__sticky-element--stuck-to-window")},e.prototype.show=function(){this.stickyElement.classList.remove("gem-c-contents-list-with-body__sticky-element--hidden")},e.prototype.hide=function(){this.stickyElement.classList.add("gem-c-contents-list-with-body__sticky-element--hidden")},t.ContentsListWithBody=e}(window.GOVUK.Modules),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).GOVUKFrontend=t.GOVUKFrontend||{})}(this,(function(t){"use strict";function e(t){if(t.includes("#"))return t.split("#").pop()}function i(t,e={}){function i(){t.addEventListener("blur",o,{once:!0})}function o(){var i;null==(i=e.onBlur)||i.call(t),s||t.removeAttribute("tabindex")}var n;const s=t.getAttribute("tabindex");s||t.setAttribute("tabindex","-1"),t.addEventListener("focus",i,{once:!0}),null==(n=e.onBeforeFocus)||n.call(t),t.focus()}function o(t,e){return t instanceof HTMLElement&&t.hasAttribute(`data-${e}-init`)}function n(t=document.body){return!!t&&t.classList.contains("govuk-frontend-supported")}function s(t){return Array.isArray(t)}function r(t){return!!t&&"object"==typeof t&&!s(t)}function a(t,e){return`${t.moduleName}: ${e}`}function l(t,e){const i=t?t.trim():"";let o,n=null==e?void 0:e.type;switch(n||(["true","false"].includes(i)&&(n="boolean"),i.length>0&&isFinite(Number(i))&&(n="number")),n){case"boolean":o="true"===i;break;case"number":o=Number(i);break;default:o=t}return o}function d(t,e){if(!r(t.schema))throw new m(a(t,"Config passed as parameter into constructor but no schema defined"));const i={},o=Object.entries(t.schema.properties);for(const n of o){const[o,s]=n,r=o.toString();r in e&&(i[r]=l(e[r],s)),"object"===(null==s?void 0:s.type)&&(i[r]=u(t.schema,e,o))}return i}function c(...t){const e={};for(const i of t)for(const t of Object.keys(i)){const o=e[t],n=i[t];r(o)&&r(n)?e[t]=c(o,n):e[t]=n}return e}function u(t,e,i){const o=t.properties[i];if("object"!==(null==o?void 0:o.type))return;const n={[i]:{}};for(const[t,o]of Object.entries(e)){let e=n;const s=t.split(".");for(const[n,a]of s.entries())r(e)&&(n<s.length-1?(r(e[a])||(e[a]={}),e=e[a]):t!==i&&(e[a]=l(o)))}return n[i]}class h extends Error{constructor(...t){super(...t),this.name="GOVUKFrontendError"}}class p extends h{constructor(t=document.body){const e="noModule"in HTMLScriptElement.prototype?'GOV.UK Frontend initialised without `<body class="govuk-frontend-supported">` from template `<script>` snippet':"GOV.UK Frontend is not supported in this browser";super(t?e:'GOV.UK Frontend initialised without `<script type="module">`'),this.name="SupportError"}}class m extends h{constructor(...t){super(...t),this.name="ConfigError"}}class g extends h{constructor(t){let e="string"==typeof t?t:"";if("object"==typeof t){const{component:i,identifier:o,element:n,expectedType:s}=t;e=o,e+=n?` is not of type ${null!=s?s:"HTMLElement"}`:" not found",e=a(i,e)}super(e),this.name="ElementError"}}class w extends h{constructor(t){super("string"==typeof t?t:a(t,"Root element (`$root`) already initialised")),this.name="InitError"}}class f{get $root(){return this._$root}constructor(t){this._$root=void 0;const e=this.constructor;if("string"!=typeof e.moduleName)throw new w("`moduleName` not defined in component");if(!(t instanceof e.elementType))throw new g({element:t,component:e,identifier:"Root element (`$root`)",expectedType:e.elementType.name});this._$root=t,e.checkSupport(),this.checkInitialised();const i=e.moduleName;this.$root.setAttribute(`data-${i}-init`,"")}checkInitialised(){const t=this.constructor,e=t.moduleName;if(e&&o(this.$root,e))throw new w(t)}static checkSupport(){if(!n())throw new p}}f.elementType=HTMLElement;const b=Symbol.for("configOverride");class v extends f{[b](t){return{}}get config(){return this._config}constructor(t,e){super(t),this._config=void 0;const i=this.constructor;if(!r(i.defaults))throw new m(a(i,"Config passed as parameter into constructor but no defaults defined"));const o=d(i,this._$root.dataset);this._config=c(i.defaults,null!=e?e:{},this[b](o),o)}}class y extends v{constructor(t,e={}){super(t,e),this.config.disableAutoFocus||i(this.$root),this.$root.addEventListener("click",(t=>this.handleClick(t)))}handleClick(t){const e=t.target;e&&this.focusTarget(e)&&t.preventDefault()}focusTarget(t){if(!(t instanceof HTMLAnchorElement))return!1;const i=e(t.href);if(!i)return!1;const o=document.getElementById(i);if(!o)return!1;const n=this.getAssociatedLegendOrLabel(o);return!!n&&(n.scrollIntoView(),o.focus({preventScroll:!0}),!0)}getAssociatedLegendOrLabel(t){var e;const i=t.closest("fieldset");if(i){const e=i.getElementsByTagName("legend");if(e.length){const i=e[0];if(t instanceof HTMLInputElement&&("checkbox"===t.type||"radio"===t.type))return i;const o=i.getBoundingClientRect().top,n=t.getBoundingClientRect();if(n.height&&window.innerHeight){if(n.top+n.height-o<window.innerHeight/2)return i}}}return null!=(e=document.querySelector(`label[for='${t.getAttribute("id")}']`))?e:t.closest("label")}}y.moduleName="govuk-error-summary",y.defaults=Object.freeze({disableAutoFocus:!1}),y.schema=Object.freeze({properties:{disableAutoFocus:{type:"boolean"}}}),t.ErrorSummary=y})),window.GOVUK=window.GOVUK||{},window.GOVUK.Modules=window.GOVUK.Modules||{},window.GOVUK.Modules.GovukErrorSummary=window.GOVUKFrontend.ErrorSummary,window.GOVUK=window.GOVUK||{},window.GOVUK.Modules=window.GOVUK.Modules||{},function(t){function e(t){this.$module=t}e.prototype.init=function(){-1===this.$module.className.indexOf("js-disable-youtube")&&this.embedYoutube(),this.createBarcharts()},e.prototype.embedYoutube=function(){new window.GOVUK.GovspeakYoutubeLinkEnhancement(this.$module).init()},e.prototype.createBarcharts=function(){new window.GOVUK.GovspeakBarchartEnhancement(this.$module).init()},t.Govspeak=e}(window.GOVUK.Modules),window.GOVUK=window.GOVUK||{},window.GOVUK.Modules=window.GOVUK.Modules||{},function(t){function e(t){this.$module=t,this.$module.youtubeLink=this.$module.querySelector(".gem-c-image-card__image-wrapper div")}e.prototype.init=function(){new window.GOVUK.GovspeakYoutubeLinkEnhancement(this.$module.youtubeLink,"gem-c-govspeak__youtube-video gem-c-image-card__youtube-video-embed").init()},t.ImageCard=e}(window.GOVUK.Modules),window.GOVUK=window.GOVUK||{},window.GOVUK.Modules=window.GOVUK.Modules||{},function(t){function e(t){this.$module=t,this.$closeLink=this.$module.querySelector(".js-dismiss-link"),this.$campaignName=this.$module.getAttribute("data-intervention-name"),this.$campaignCookie=window.GOVUK.cookie("intervention_campaign")||""}e.prototype.init=function(){this.$cookieHasCampaign=this.cookieHasCampaign(),this.$closeLink&&(this.$module.close=this.handleClose.bind(this),this.$closeLink.addEventListener("click",this.$module.close)),this.$cookieHasCampaign&&this.hideBanner()},e.prototype.handleClose=function(t){t.preventDefault(),this.$cookieHasCampaign&&this.setCookies(),this.hideBanner()},e.prototype.cookieHasCampaign=function(){return!!this.$campaignCookie&&this.cookieValues().includes(this.$campaignName)},e.prototype.cookieValues=function(){if(null!==this.$campaignCookie&&this.$campaignCookie.length>0)return this.$campaignCookie.split(",")},e.prototype.appendCookieValues=function(){return this.$campaignCookie+","+this.$campaignName},e.prototype.setCookies=function(){this.$campaignCookie?window.GOVUK.setCookie("intervention_campaign",this.appendCookieValues(),{days:30}):window.GOVUK.setCookie("intervention_campaign",this.$campaignName,{days:30})},e.prototype.hideBanner=function(){this.$cookieHasCampaign||this.setCookies(),this.$module.hidden=!0,this.$module.style.display="none"},t.Intervention=e}(window.GOVUK.Modules),window.GOVUK=window.GOVUK||{},window.GOVUK.Modules=window.GOVUK.Modules||{},function(t){function e(t){this.$module=t}e.prototype.init=function(){var t=this.$module.querySelector(".js-see-all-updates-link");if(t){var e=document.querySelector(t.getAttribute("href"));e&&t.addEventListener("click",(function(){var t=e.querySelector("[aria-expanded]");t&&"true"!==t.getAttribute("aria-expanded")&&t.click()}))}},t.Metadata=e}(window.GOVUK.Modules),window.GOVUK=window.GOVUK||{},window.GOVUK.Modules=window.GOVUK.Modules||{},function(t){function e(t){this.$module=t}e.prototype.init=function(){this.$module.addEventListener("click",(function(){window.print()}))},t.PrintLink=e}(window.GOVUK.Modules),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).GOVUKFrontend=t.GOVUKFrontend||{})}(this,(function(t){"use strict";function e(t,e){return t instanceof HTMLElement&&t.hasAttribute(`data-${e}-init`)}function i(t=document.body){return!!t&&t.classList.contains("govuk-frontend-supported")}function o(t,e){return`${t.moduleName}: ${e}`}class n extends Error{constructor(...t){super(...t),this.name="GOVUKFrontendError"}}class s extends n{constructor(t=document.body){
const e="noModule"in HTMLScriptElement.prototype?'GOV.UK Frontend initialised without `<body class="govuk-frontend-supported">` from template `<script>` snippet':"GOV.UK Frontend is not supported in this browser";super(t?e:'GOV.UK Frontend initialised without `<script type="module">`'),this.name="SupportError"}}class r extends n{constructor(t){let e="string"==typeof t?t:"";if("object"==typeof t){const{component:i,identifier:n,element:s,expectedType:r}=t;e=n,e+=s?` is not of type ${null!=r?r:"HTMLElement"}`:" not found",e=o(i,e)}super(e),this.name="ElementError"}}class a extends n{constructor(t){super("string"==typeof t?t:o(t,"Root element (`$root`) already initialised")),this.name="InitError"}}class l{get $root(){return this._$root}constructor(t){this._$root=void 0;const e=this.constructor;if("string"!=typeof e.moduleName)throw new a("`moduleName` not defined in component");if(!(t instanceof e.elementType))throw new r({element:t,component:e,identifier:"Root element (`$root`)",expectedType:e.elementType.name});this._$root=t,e.checkSupport(),this.checkInitialised();const i=e.moduleName;this.$root.setAttribute(`data-${i}-init`,"")}checkInitialised(){const t=this.constructor,i=t.moduleName;if(i&&e(this.$root,i))throw new a(t)}static checkSupport(){if(!i())throw new s}}l.elementType=HTMLElement;class d extends l{constructor(t){super(t),this.$inputs=void 0;const e=this.$root.querySelectorAll('input[type="radio"]');if(!e.length)throw new r({component:d,identifier:'Form inputs (`<input type="radio">`)'});this.$inputs=e,this.$inputs.forEach((t=>{const e=t.getAttribute("data-aria-controls");if(e){if(!document.getElementById(e))throw new r({component:d,identifier:`Conditional reveal (\`id="${e}"\`)`});t.setAttribute("aria-controls",e),t.removeAttribute("data-aria-controls")}})),window.addEventListener("pageshow",(()=>this.syncAllConditionalReveals())),this.syncAllConditionalReveals(),this.$root.addEventListener("click",(t=>this.handleClick(t)))}syncAllConditionalReveals(){this.$inputs.forEach((t=>this.syncConditionalRevealWithInputState(t)))}syncConditionalRevealWithInputState(t){const e=t.getAttribute("aria-controls");if(!e)return;const i=document.getElementById(e);if(null!=i&&i.classList.contains("govuk-radios__conditional")){const e=t.checked;t.setAttribute("aria-expanded",e.toString()),i.classList.toggle("govuk-radios__conditional--hidden",!e)}}handleClick(t){const e=t.target;if(!(e instanceof HTMLInputElement)||"radio"!==e.type)return;const i=document.querySelectorAll('input[type="radio"][aria-controls]'),o=e.form,n=e.name;i.forEach((t=>{const e=t.form===o;t.name===n&&e&&this.syncConditionalRevealWithInputState(t)}))}}d.moduleName="govuk-radios",t.Radios=d})),window.GOVUK=window.GOVUK||{},window.GOVUK.Modules=window.GOVUK.Modules||{},window.GOVUK.Modules.GovukRadios=window.GOVUKFrontend.Radios,window.GOVUK=window.GOVUK||{},window.GOVUK.Modules=window.GOVUK.Modules||{},function(t){function e(t){this.$module=t,this.$module.actions={},this.$module.rememberShownStep=!1,this.$module.stepNavSize=!1,this.$module.sessionStoreLink="govuk-step-nav-active-link",this.$module.activeLinkClass="gem-c-step-nav__list-item--active",this.$module.activeStepClass="gem-c-step-nav__step--active",this.$module.activeLinkHref="#content",this.$module.uniqueId=!1}e.prototype.init=function(){this.$module.classList.add("gem-c-step-nav--active"),this.$module.classList.remove("js-hidden"),this.$module.stepNavSize=this.$module.classList.contains("gem-c-step-nav--large")?"Big":"Small",this.$module.rememberShownStep=!!this.$module.hasAttribute("data-remember")&&"Big"===this.$module.stepNavSize,this.$module.steps=this.$module.querySelectorAll(".js-step"),this.$module.stepHeaders=this.$module.querySelectorAll(".js-toggle-panel"),this.$module.totalSteps=this.$module.querySelectorAll(".js-panel").length,this.$module.totalLinks=this.$module.querySelectorAll(".gem-c-step-nav__link").length,this.$module.showOrHideAllButton=!1,this.$module.uniqueId=this.$module.getAttribute("data-id")||!1,this.$module.dataModule=this.$module.getAttribute("data-module"),this.$module.isGa4Enabled=!!this.$module.dataModule&&-1!==this.$module.dataModule.indexOf("ga4-event-tracker"),this.$module.uniqueId&&(this.$module.sessionStoreLink=this.$module.sessionStoreLink+"_"+this.$module.uniqueId),this.getTextForInsertedElements(),this.addButtonstoSteps(),this.addShowHideAllButton(),this.addShowHideToggle(),this.addAriaControlsAttrForShowHideAllButton(),this.ensureOnlyOneActiveLink(),this.showPreviouslyOpenedSteps(),this.bindToggleForSteps(),this.bindToggleShowHideAllButton(),this.bindComponentLinkClicks()},e.prototype.getTextForInsertedElements=function(){this.$module.actions.showText=this.$module.getAttribute("data-show-text"),this.$module.actions.hideText=this.$module.getAttribute("data-hide-text"),this.$module.actions.showAllText=this.$module.getAttribute("data-show-all-text"),this.$module.actions.hideAllText=this.$module.getAttribute("data-hide-all-text")},e.prototype.addShowHideAllButton=function(){var t=document.createElement("div"),e=this.$module.querySelectorAll(".gem-c-step-nav__steps")[0];if(t.className="gem-c-step-nav__controls govuk-!-display-none-print",t.innerHTML='<button aria-expanded="false" class="gem-c-step-nav__button gem-c-step-nav__button--controls js-step-controls-button"><span class="gem-c-step-nav__chevron gem-c-step-nav__chevron--down js-step-controls-button-icon"></span><span class="gem-c-step-nav__button-text gem-c-step-nav__button-text--all js-step-controls-button-text">'+this.$module.actions.showAllText+"</span></button>",this.$module.insertBefore(t,e),this.$module.showOrHideAllButton=this.$module.querySelectorAll(".js-step-controls-button")[0],this.$module.isGa4Enabled){var i={event_name:"select_content",type:"step by step",index_section:0,index_section_count:this.$module.totalSteps};this.$module.showOrHideAllButton.setAttribute("data-ga4-event",JSON.stringify(i))}},e.prototype.addShowHideToggle=function(){for(var t=0;t<this.$module.stepHeaders.length;t++){var e=this.$module.stepHeaders[t];if(!e.querySelectorAll(".js-toggle-link").length){var i=document.createElement("span"),o=document.createElement("span"),n=document.createElement("span"),s=document.createElement("span"),r=document.createElement("span");i.className="gem-c-step-nav__toggle-link js-toggle-link govuk-!-display-none-print",o.className="gem-c-step-nav__button-text js-toggle-link-text",n.className="gem-c-step-nav__chevron js-toggle-link-icon",s.className="gem-c-step-nav__toggle-link-focus",r.className="govuk-visually-hidden",i.appendChild(s),s.appendChild(n),s.appendChild(o),r.innerHTML=" this section",i.appendChild(r),e.querySelectorAll(".js-step-title-button")[0].appendChild(i)}}},e.prototype.headerIsOpen=function(t){return void 0!==t.parentNode.getAttribute("show")},e.prototype.addAriaControlsAttrForShowHideAllButton=function(){var t=this.$module.querySelectorAll(".js-panel")[0].getAttribute("id");this.$module.showOrHideAllButton.setAttribute("aria-controls",t)},e.prototype.setAllStepsShownState=function(t){for(var e=[],i=0;i<this.$module.steps.length;i++){new this.StepView(this.$module.steps[i],this.$module).setIsShown(t),t&&e.push(this.$module.steps[i].getAttribute("id"))}t?this.saveToSessionStorage(this.$module.uniqueId,JSON.stringify(e)):this.removeFromSessionStorage(this.$module.uniqueId)},e.prototype.showPreviouslyOpenedSteps=function(){for(var t=this.loadFromSessionStorage(this.$module.uniqueId)||[],e=0;e<this.$module.steps.length;e++){var i=this.$module.steps[e],o=i.getAttribute("id"),n=new this.StepView(i,this.$module),s=i.hasAttribute("data-show");this.$module.rememberShownStep&&t.indexOf(o)>-1||s&&"undefined"!==s?n.setIsShown(!0):n.setIsShown(!1)}t.length>0&&(this.$module.showOrHideAllButton.setAttribute("aria-expanded",!0),this.setShowHideAllText())},e.prototype.addButtonstoSteps=function(){for(var t=0;t<this.$module.steps.length;t++){var e=this.$module.steps[t],i=e.querySelectorAll(".js-step-title")[0],o=e.querySelectorAll(".js-panel")[0].getAttribute("id"),n=i.textContent||i.innerText;if(i.outerHTML='<span class="js-step-title"><button class="gem-c-step-nav__button gem-c-step-nav__button--title js-step-title-button" aria-expanded="false" aria-controls="'+o+'"><span class="gem-c-step-nav____title-text-focus"><span class="gem-c-step-nav__title-text js-step-title-text">'+n+'</span><span class="govuk-visually-hidden gem-c-step-nav__section-heading-divider">, </span></span></button></span>',this.$module.isGa4Enabled){var s={event_name:"select_content",type:"step by step",text:n.trim(),index_section:t+1,index_section_count:this.$module.totalSteps,index_total:e.querySelectorAll("a").length};e.querySelector(".js-step-title-button").setAttribute("data-ga4-event",JSON.stringify(s))}}},e.prototype.bindToggleForSteps=function(){for(var t=this,e=this.$module.querySelectorAll(".js-toggle-panel"),i=0;i<e.length;i++)e[i].addEventListener("click",(function(){new t.StepView(this.parentNode,t.$module).toggle(),t.setShowHideAllText(),t.rememberStepState(this.parentNode)}))},e.prototype.rememberStepState=function(t){if(this.$module.rememberShownStep){var e=JSON.parse(this.loadFromSessionStorage(this.$module.uniqueId))||[],i=t.getAttribute("id");if(t.classList.contains("step-is-shown"))e.push(i);else{var o=e.indexOf(i);o>-1&&e.splice(o,1)}this.saveToSessionStorage(this.$module.uniqueId,JSON.stringify(e))}},e.prototype.bindComponentLinkClicks=function(){for(var t=this.$module.querySelectorAll(".js-link"),e=this,i=0;i<t.length;i++)t[i].addEventListener("click",(function(){var t=this.getAttribute("data-position");"external"!==this.getAttribute("rel")&&e.saveToSessionStorage(e.$module.sessionStoreLink,t),this.getAttribute("href")===e.$module.activeLinkHref&&(e.setOnlyThisLinkActive(this),e.setActiveStepClass())}))},e.prototype.saveToSessionStorage=function(t,e){window.sessionStorage.setItem(t,e)},e.prototype.loadFromSessionStorage=function(t){return window.sessionStorage.getItem(t)},e.prototype.removeFromSessionStorage=function(t){window.sessionStorage.removeItem(t)},e.prototype.setOnlyThisLinkActive=function(t){for(var e=this.$module.querySelectorAll("."+this.$module.activeLinkClass),i=0;i<e.length;i++)e[i].classList.remove(this.$module.activeLinkClass);t.parentNode.classList.add(this.$module.activeLinkClass)},e.prototype.ensureOnlyOneActiveLink=function(){var t=this.$module.querySelectorAll(".js-list-item."+this.$module.activeLinkClass);if(!(t.length<=1)){var e=this.loadFromSessionStorage(this.$module.sessionStoreLink),i=this.$module.querySelectorAll("."+this.$module.activeLinkClass)[0].firstChild.getAttribute("data-position"),o=e||i,n=this.$module.querySelectorAll('[data-position="'+o+'"]')[0];n?n.parentNode.classList.contains(this.$module.activeLinkClass)||(o=n):o=i,this.removeActiveStateFromAllButCurrent(t,o),this.setActiveStepClass()}},e.prototype.removeActiveStateFromAllButCurrent=function(t,e){for(var i=0;i<t.length;i++){var o=t[i];if(o.querySelectorAll(".js-link")[0].getAttribute("data-position").toString()!==e.toString()){o.classList.remove(this.$module.activeLinkClass);var n=o.querySelectorAll(".visuallyhidden");n.length&&n[0].parentNode.removeChild(n[0])}}},e.prototype.setActiveStepClass=function(){for(var t=this.$module.querySelectorAll("."+this.$module.activeStepClass),e=0;e<t.length;e++)t[e].classList.remove(this.$module.activeStepClass),t[e].removeAttribute("data-show");var i=this.$module.querySelectorAll("."+this.$module.activeLinkClass)[0];if(i){var o=i.closest(".gem-c-step-nav__step");o.classList.add(this.$module.activeStepClass),o.setAttribute("data-show","")}},e.prototype.bindToggleShowHideAllButton=function(){var t=this;this.$module.showOrHideAllButton.addEventListener("click",(function(){var e=(this.textContent||this.innerText)===t.$module.actions.showAllText;return t.setAllStepsShownState(e),t.$module.showOrHideAllButton.setAttribute("aria-expanded",e),t.setShowHideAllText(),!1}))},e.prototype.setShowHideAllText=function(){var t=this.$module.querySelectorAll(".step-is-shown").length,e=this.$module.showOrHideAllButton.querySelector(".js-step-controls-button-icon"),i=this.$module.showOrHideAllButton.querySelector(".js-step-controls-button-text");t===this.$module.totalSteps?(i.innerHTML=this.$module.actions.hideAllText,e.classList.remove("gem-c-step-nav__chevron--down")):(i.innerHTML=this.$module.actions.showAllText,e.classList.add("gem-c-step-nav__chevron--down"))},e.prototype.StepView=function(t,e){this.stepElement=t,this.stepContent=this.stepElement.querySelectorAll(".js-panel")[0],this.titleButton=this.stepElement.querySelectorAll(".js-step-title-button")[0];var i=this.stepElement.querySelectorAll(".js-step-title-text")[0];this.title=i.textContent||i.innerText,this.title=this.title.replace(/^\s+|\s+$/g,""),this.showText=e.actions.showText,this.hideText=e.actions.hideText,this.upChevronSvg=e.upChevronSvg,this.downChevronSvg=e.downChevronSvg,this.show=function(){this.setIsShown(!0)},this.hide=function(){this.setIsShown(!1)},this.toggle=function(){this.setIsShown(this.isHidden())},this.setIsShown=function(t){var e=this.stepElement.querySelectorAll(".js-toggle-link")[0],i=e.querySelector(".js-toggle-link-text"),o=e.querySelector(".js-toggle-link-icon");t?(this.stepElement.classList.add("step-is-shown"),this.stepContent.classList.remove("js-hidden"),i.innerHTML=this.hideText,o.classList.remove("gem-c-step-nav__chevron--down")):(this.stepElement.classList.remove("step-is-shown"),this.stepContent.classList.add("js-hidden"),i.innerHTML=this.showText,o.classList.add("gem-c-step-nav__chevron--down")),this.titleButton.setAttribute("aria-expanded",t)},this.isShown=function(){return this.stepElement.classList.contains("step-is-shown")},this.isHidden=function(){return!this.isShown()},this.numberOfContentItems=function(){return this.stepContent.querySelectorAll(".js-link").length}},e.prototype.StepToggleClick=function(t,e,i,o){this.target=t.target,this.stepIsOptional=i,this.stepNavSize=o,this.stepIndex=function(){return this.$module.steps.index(e.element)+1},this.locateClickElement=function(){return this.clickedOnIcon()?this.iconType()+" click":this.clickedOnHeading()?"Heading click":"Elsewhere click"},this.clickedOnIcon=function(){return this.target.classList.contains("js-toggle-link")},this.clickedOnHeading=function(){return this.target.classList.contains("js-step-title-text")},this.iconType=function(){return e.isHidden()?"Minus":"Plus"},this.isOptional=function(){return this.stepIsOptional?" ; optional":""}},t.Gemstepnav=e}(window.GOVUK.Modules),window.GOVUK=window.GOVUK||{},window.GOVUK.Modules=window.GOVUK.Modules||{},function(t){function e(t){this.$module=t,this.searchInput=t.querySelector('input[name="filter"]'),this.tableRows=t.querySelectorAll(".js-govuk-table__row"),this.filter=t.querySelector(".js-gem-c-table__filter"),this.filterCount=this.filter.querySelector(".js-filter-count"),this.message=t.querySelector(".js-gem-c-table__message"),this.hiddenClass="govuk-!-display-none",this.filterCountText=this.filterCount.getAttribute("data-count-text"),this.tableRowsContent=[];for(var e=0;e<this.tableRows.length;e++)this.tableRowsContent.push(this.tableRows[e].textContent.toUpperCase())}e.prototype.init=function(){this.$module.updateRows=this.updateRows.bind(this),this.filter.classList.remove(this.hiddenClass),this.searchInput.addEventListener("input",this.$module.updateRows)},e.prototype.updateRows=function(){for(var t=this.searchInput.value,e=0,i=this.tableRows.length,o=0;o<i;o++)this.tableRowsContent[o].includes(t.toUpperCase())?this.tableRows[o].classList.remove(this.hiddenClass):(this.tableRows[o].classList.add(this.hiddenClass),e++);this.filterCount.textContent=i-e+" "+this.filterCountText,i===e?this.message.classList.remove(this.hiddenClass):this.message.classList.add(this.hiddenClass)},t.Table=e}(window.GOVUK.Modules),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).GOVUKFrontend=t.GOVUKFrontend||{})}(this,(function(t){"use strict";function e(t){if(t.includes("#"))return t.split("#").pop()}function i(t){const e=`--govuk-frontend-breakpoint-${t}`;return{property:e,value:window.getComputedStyle(document.documentElement).getPropertyValue(e)||void 0}}function o(t,e){return t instanceof HTMLElement&&t.hasAttribute(`data-${e}-init`)}function n(t=document.body){return!!t&&t.classList.contains("govuk-frontend-supported")}function s(t,e){return`${t.moduleName}: ${e}`}class r extends Error{constructor(...t){super(...t),this.name="GOVUKFrontendError"}}class a extends r{constructor(t=document.body){const e="noModule"in HTMLScriptElement.prototype?'GOV.UK Frontend initialised without `<body class="govuk-frontend-supported">` from template `<script>` snippet':"GOV.UK Frontend is not supported in this browser";super(t?e:'GOV.UK Frontend initialised without `<script type="module">`'),this.name="SupportError"}}class l extends r{constructor(t){let e="string"==typeof t?t:"";if("object"==typeof t){const{component:i,identifier:o,element:n,expectedType:r}=t;e=o,e+=n?` is not of type ${null!=r?r:"HTMLElement"}`:" not found",e=s(i,e)}super(e),this.name="ElementError"}}class d extends r{constructor(t){super("string"==typeof t?t:s(t,"Root element (`$root`) already initialised")),this.name="InitError"}}class c{get $root(){return this._$root}constructor(t){this._$root=void 0;const e=this.constructor;if("string"!=typeof e.moduleName)throw new d("`moduleName` not defined in component");if(!(t instanceof e.elementType))throw new l({element:t,component:e,identifier:"Root element (`$root`)",expectedType:e.elementType.name});this._$root=t,e.checkSupport(),this.checkInitialised();const i=e.moduleName;this.$root.setAttribute(`data-${i}-init`,"")}checkInitialised(){const t=this.constructor,e=t.moduleName;if(e&&o(this.$root,e))throw new d(t)}static checkSupport(){if(!n())throw new a}}c.elementType=HTMLElement;class u extends c{constructor(t){super(t),this.$tabs=void 0,this.$tabList=void 0,this.$tabListItems=void 0,this.jsHiddenClass="govuk-tabs__panel--hidden",this.changingHash=!1,this.boundTabClick=void 0,this.boundTabKeydown=void 0,this.boundOnHashChange=void 0,this.mql=null;const e=this.$root.querySelectorAll("a.govuk-tabs__tab");if(!e.length)throw new l({component:u,identifier:'Links (`<a class="govuk-tabs__tab">`)'});this.$tabs=e,this.boundTabClick=this.onTabClick.bind(this),this.boundTabKeydown=this.onTabKeydown.bind(this),this.boundOnHashChange=this.onHashChange.bind(this);const i=this.$root.querySelector(".govuk-tabs__list"),o=this.$root.querySelectorAll("li.govuk-tabs__list-item");if(!i)throw new l({component:u,identifier:'List (`<ul class="govuk-tabs__list">`)'});if(!o.length)throw new l({component:u,identifier:'List items (`<li class="govuk-tabs__list-item">`)'});this.$tabList=i,this.$tabListItems=o,this.setupResponsiveChecks()}setupResponsiveChecks(){const t=i("tablet");if(!t.value)throw new l({component:u,identifier:`CSS custom property (\`${t.property}\`) on pseudo-class \`:root\``});this.mql=window.matchMedia(`(min-width: ${t.value})`),"addEventListener"in this.mql?this.mql.addEventListener("change",(()=>this.checkMode())):this.mql.addListener((()=>this.checkMode())),this.checkMode()}checkMode(){var t;null!=(t=this.mql)&&t.matches?this.setup():this.teardown()}setup(){var t;this.$tabList.setAttribute("role","tablist"),this.$tabListItems.forEach((t=>{t.setAttribute("role","presentation")})),this.$tabs.forEach((t=>{this.setAttributes(t),t.addEventListener("click",this.boundTabClick,!0),t.addEventListener("keydown",this.boundTabKeydown,!0),this.hideTab(t)}));const e=null!=(t=this.getTab(window.location.hash))?t:this.$tabs[0];this.showTab(e),window.addEventListener("hashchange",this.boundOnHashChange,!0)}teardown(){this.$tabList.removeAttribute("role"),this.$tabListItems.forEach((t=>{t.removeAttribute("role")})),this.$tabs.forEach((t=>{t.removeEventListener("click",this.boundTabClick,!0),t.removeEventListener("keydown",this.boundTabKeydown,!0),this.unsetAttributes(t)})),window.removeEventListener("hashchange",this.boundOnHashChange,!0)}onHashChange(){const t=window.location.hash,e=this.getTab(t);if(!e)return;if(this.changingHash)return void(this.changingHash=!1);const i=this.getCurrentTab();i&&(this.hideTab(i),this.showTab(e),e.focus())}hideTab(t){this.unhighlightTab(t),this.hidePanel(t)}showTab(t){this.highlightTab(t),this.showPanel(t)}getTab(t){return this.$root.querySelector(`a.govuk-tabs__tab[href="${t}"]`)}setAttributes(t){const i=e(t.href);if(!i)return;t.setAttribute("id",`tab_${i}`),t.setAttribute("role","tab"),t.setAttribute("aria-controls",i),t.setAttribute("aria-selected","false"),t.setAttribute("tabindex","-1");const o=this.getPanel(t);o&&(o.setAttribute("role","tabpanel"),o.setAttribute("aria-labelledby",t.id),o.classList.add(this.jsHiddenClass))}unsetAttributes(t){t.removeAttribute("id"),t.removeAttribute("role"),t.removeAttribute("aria-controls"),t.removeAttribute("aria-selected"),t.removeAttribute("tabindex");const e=this.getPanel(t);e&&(e.removeAttribute("role"),e.removeAttribute("aria-labelledby"),e.classList.remove(this.jsHiddenClass))}onTabClick(t){const e=this.getCurrentTab(),i=t.currentTarget;e&&i instanceof HTMLAnchorElement&&(t.preventDefault(),this.hideTab(e),this.showTab(i),this.createHistoryEntry(i))}createHistoryEntry(t){const e=this.getPanel(t);if(!e)return;const i=e.id;e.id="",this.changingHash=!0,window.location.hash=i,e.id=i}onTabKeydown(t){switch(t.key){case"ArrowLeft":case"Left":this.activatePreviousTab(),t.preventDefault();break;case"ArrowRight":case"Right":this.activateNextTab(),t.preventDefault()}}activateNextTab(){const t=this.getCurrentTab();if(null==t||!t.parentElement)return;const e=t.parentElement.nextElementSibling;if(!e)return;const i=e.querySelector("a.govuk-tabs__tab");i&&(this.hideTab(t),this.showTab(i),i.focus(),this.createHistoryEntry(i))}activatePreviousTab(){const t=this.getCurrentTab();if(null==t||!t.parentElement)return;const e=t.parentElement.previousElementSibling;if(!e)return;const i=e.querySelector("a.govuk-tabs__tab");i&&(this.hideTab(t),this.showTab(i),i.focus(),this.createHistoryEntry(i))}getPanel(t){const i=e(t.href);return i?this.$root.querySelector(`#${i}`):null}showPanel(t){const e=this.getPanel(t);e&&e.classList.remove(this.jsHiddenClass)}hidePanel(t){const e=this.getPanel(t);e&&e.classList.add(this.jsHiddenClass)}unhighlightTab(t){t.parentElement&&(t.setAttribute("aria-selected","false"),t.parentElement.classList.remove("govuk-tabs__list-item--selected"),t.setAttribute("tabindex","-1"))}highlightTab(t){t.parentElement&&(t.setAttribute("aria-selected","true"),t.parentElement.classList.add("govuk-tabs__list-item--selected"),t.setAttribute("tabindex","0"))}getCurrentTab(){return this.$root.querySelector(".govuk-tabs__list-item--selected a.govuk-tabs__tab")}}u.moduleName="govuk-tabs",t.Tabs=u})),window.GOVUK=window.GOVUK||{},window.GOVUK.Modules=window.GOVUK.Modules||{},window.GOVUK.Modules.GovukTabs=window.GOVUKFrontend.Tabs,window.GOVUK=window.GOVUK||{},window.GOVUK.Modules=window.GOVUK.Modules||{},function(t){function e(t){this.$module=t,this.GLOBAL_BANNER_SEEN_COOKIE="global_banner_seen",this.alwaysOn="true"===this.$module.getAttribute("data-global-banner-permanent"),this.bannerVersion=parseInt(this.$module.getAttribute("data-banner-version"))}e.prototype.init=function(){var t=window.GOVUK.getCookieCategory(this.GLOBAL_BANNER_SEEN_COOKIE),e=window.GOVUK.getConsentCookie();if(e&&e[t]){var i=window.GOVUK.getCookie(this.GLOBAL_BANNER_SEEN_COOKIE);if(null===i)this.setBannerCookie(0),this.makeBannerVisible();else{var o=JSON.parse(i);if(o.version!==this.bannerVersion)this.setBannerCookie(0),this.makeBannerVisible();else{var n=o.count;this.alwaysOn?this.makeBannerVisible():n<3&&(this.setBannerCookie(n+1),this.makeBannerVisible())}}}else this.makeBannerVisible()},e.prototype.setBannerCookie=function(t){var e=JSON.stringify({count:t,version:this.bannerVersion});window.GOVUK.setCookie(this.GLOBAL_BANNER_SEEN_COOKIE,e,{days:84})},e.prototype.makeBannerVisible=function(){this.$module.classList.add("gem-c-global-banner--visible"),this.$module.setAttribute("data-ga4-global-banner","")},t.GlobalBanner=e}(window.GOVUK.Modules),void 0===window.GOVUK&&(window.GOVUK={}),void 0===window.GOVUK.support&&(window.GOVUK.support={}),window.GOVUK.support.history=function(){return window.history&&window.history.pushState&&window.history.replaceState},window.GOVUK=window.GOVUK||{},window.GOVUK.Modules=window.GOVUK.Modules||{},function(t){"use strict";function e(t){this.module=t,this.module.button=this.module.querySelector("button"),this.module.navContainer=this.module.querySelector(".js-main-nav__nav-container"),this.module.buttonContainer=this.module.querySelector(".js-main-nav__button-container"),this.module.button.classList.remove("main-nav__button--no-js")}e.prototype.init=function(){this.module.button.addEventListener("click",this.toggleMenu.bind(this))},e.prototype.toggleMenu=function(){var t="true"===this.module.button.getAttribute("aria-expanded");this.module.navContainer.classList.toggle("main-nav__nav-container--js-hidden"),this.module.button.setAttribute("aria-expanded",`${!t}`),this.module.buttonContainer.classList.toggle("main-nav__button-container--collapsed")},t.MainNavigation=e}(window.GOVUK.Modules),window.GOVUK=window.GOVUK||{},window.GOVUK.Modules=window.GOVUK.Modules||{},function(t){function e(t){this.wrapper=t,this.stickyElement=this.wrapper.querySelector("[data-sticky-element]"),this.hasResized=!0,this.hasScrolled=!0,this.interval=50,this.windowVerticalPosition=1,this.startPosition=0,this.stopPosition=0}e.prototype.init=function(){this.stickyElement&&(window.onresize=this.onResize.bind(this),window.onscroll=this.onScroll.bind(this),setInterval(this.checkResize.bind(this),this.interval),setInterval(this.checkScroll.bind(this),this.interval),this.checkResize(),this.checkScroll(),this.stickyElement.classList.add("sticky-element--enabled"))},e.prototype.getWindowDimensions=function(){return{height:window.innerHeight,width:window.innerWidth}},e.prototype.getWindowPositions=function(){return{scrollTop:window.scrollY}},e.prototype.onResize=function(){this.hasResized=!0},e.prototype.onScroll=function(){this.hasScrolled=!0},e.prototype.checkResize=function(){if(this.hasResized){this.hasResized=!1,this.hasScrolled=!0;var t=this.getWindowDimensions(),e=this.wrapper.offsetHeight||parseFloat(this.wrapper.style.height.replace("px",""));this.startPosition=this.wrapper.offsetTop,this.stopPosition=this.wrapper.offsetTop+e-t.height}},e.prototype.checkScroll=function(){this.hasScrolled&&(this.hasScrolled=!1,this.windowVerticalPosition=this.getWindowPositions().scrollTop,this.updateVisibility(),this.updatePosition())},e.prototype.updateVisibility=function(){this.startPosition<this.windowVerticalPosition?this.show():this.hide()},e.prototype.updatePosition=function(){this.stopPosition<this.windowVerticalPosition?this.stickToParent():this.stickToWindow()},e.prototype.stickToWindow=function(){this.stickyElement.classList.add("sticky-element--stuck-to-window")},e.prototype.stickToParent=function(){this.stickyElement.classList.remove("sticky-element--stuck-to-window")},e.prototype.show=function(){this.stickyElement.classList.remove("sticky-element--hidden")},e.prototype.hide=function(){this.stickyElement.classList.add("sticky-element--hidden")},t.StickyElementContainer=e}(window.GOVUK.Modules),window.GOVUK=window.GOVUK||{},window.GOVUK.Modules=window.GOVUK.Modules||{},function(t){"use strict";function e(t){this.module=t}e.prototype.init=function(){this.appendJsFields(),this.disableOnSubmit()},e.prototype.appendJsFields=function(){var t=document.createElement("input");t.type="hidden",t.name="service_feedback[javascript_enabled]",t.value="true",this.module.appendChild(t);var e=document.createElement("input");e.type="hidden",e.name="referrer",e.value=document.referrer||"unknown",this.module.appendChild(e)},e.prototype.disableOnSubmit=function(){var t=this.module.querySelector('button[type="submit"]');this.module.addEventListener("submit",(function(){t&&(t.disabled=!0)}))},t.TransactionSurveyForm=e}(window.GOVUK.Modules);